# `php-autologger` - ูุธุงู ุชุณุฌูู ุชููุงุฆู ูุชูุฏู ูู PHP

![PHP Version](https://img.shields.io/badge/PHP-7.4%2B-blue)
![License](https://img.shields.io/badge/license-MIT-green)
![Build Status](https://img.shields.io/badge/build-passing-brightgreen)

ูุธุงู ูุชูุงูู ูุชุณุฌูู ุงูุฃุฎุทุงุก ูุงูุงุณุชุซูุงุกุงุช ูููุงุณ ุฃุฏุงุก ุงูุชุทุจููุงุช PHP ูุน ุฅููุงููุฉ ุชุชุจุน ุงูุนูููุงุช ูุงูููุช ุงููุณุชุบุฑู ููู ุนูููุฉ.

## ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

- ๐ ุชุณุฌูู ุชููุงุฆู ููุฃุฎุทุงุก ูุงูุงุณุชุซูุงุกุงุช
- โฑ ููุงุณ ุงูุฃุฏุงุก ูุงูููุช ุงููุณุชุบุฑู ููู ุนูููุฉ
- ๐ ุชุชุจุน ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
- ๐ ูุดู ุงูุนูููุงุช ุงูุจุทูุฆุฉ ุชููุงุฆูุงู
- ๐ ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ (ูููุงุช ุงููุฑูุฑุ ุงูุชูููุงุช)
- ๐ ุชุฏููุฑ ุงูุณุฌูุงุช ูุญุฐู ุงููุฏูู ุชููุงุฆูุงู
- ๐ ุชูุงูู ุณูู ูุน ุฃู ูุดุฑูุน PHP

## ุงูุชุซุจูุช

### ุจุงุณุชุฎุฏุงู Composer

```bash
composer require ismailalbriki/php-autologger
```

### ุงูุชุซุจูุช ุงููุฏูู

1. ุงูุณุฎ ููู `autologger.php` ููุฌูุฏ ูุดุฑูุนู
2. ูู ุจุชุถูููู ูู ุชุทุจููู:

```php
require_once 'path/to/autologger.php';
```

## ุงูุงุณุชุฎุฏุงู ุงูุฃุณุงุณู

### ุงูุจุฏุก ุงูุณุฑูุน

```php
// ุฅูุดุงุก ุงููุงุฆู (ุณูุจุฏุฃ ุงูุชุณุฌูู ุงูุชููุงุฆู ููุฑุงู)
$logger = new PerformanceLogger();

// ุชุนุฑูู ููุน ุงูุนูููุฉ
$_SERVER['OPERATION_TYPE'] = 'user_registration';

// ูุซุงู ูููุงุณ ุนูููุฉ
$logger->startTimer('db_operation');
// ููุฏ ุงูุนูููุฉ...
$logger->endTimer('db_operation');
$logger->logOperation('database', 'success', ['rows' => 5], 'db_operation');
```

### ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ

```php
// ุฅูุดุงุก ูุงุฆู ูุน ุฅุนุฏุงุฏุงุช ูุฎุตุตุฉ
class MyLogger extends PerformanceLogger {
    protected $maxFileSize = 5242880; // 5MB
    protected $retentionDays = 14; // ุงุญุชูุธ ุจุงูุณุฌูุงุช ููุฏุฉ ุฃุณุจูุนูู
}

$logger = new MyLogger();
```

## ุงูุชูุซูู ุงููุงูู

### ุงูุทุฑู ุงูุฑุฆูุณูุฉ

| ุงูุทุฑููุฉ | ุงููุตู |
|---------|-------|
| `startTimer($name)` | ุจุฏุก ููุงุณ ููุช ูููุฏุงุฑ ุงูุฐุงูุฑุฉ ูุนูููุฉ |
| `endTimer($name)` | ุฅููุงุก ุงูููุงุณ ูุฅุญุตุงุก ุงูุฃุฏุงุก |
| `logOperation($action, $status, $details, $timerName)` | ุชุณุฌูู ุนูููุฉ ูุน ุชูุงุตูููุง |
| `getPerformanceReport()` | ุงูุญุตูู ุนูู ุชูุฑูุฑ ููุตู ุจุงูุฃุฏุงุก |

### ุฃูุซูุฉ ูุชูุฏูุฉ

**ุชุณุฌูู ุนูููุฉ ูุน ููุงุณ ุงูุฃุฏุงุก:**

```php
$logger->startTimer('complex_calculation');

// ููุฏ ุงูุนูููุฉ ุงููุนูุฏุฉ
usleep(500000); // ูุญุงูุงุฉ ุนูููุฉ ุชุณุชุบุฑู ูุตู ุซุงููุฉ

$logger->endTimer('complex_calculation');
$logger->logOperation('calculation', 'completed', [
    'iterations' => 1000,
    'precision' => 0.01
], 'complex_calculation');
```

**ุชุณุฌูู ุฎุทุฃ ูุน ุชูุงุตูู:**

```php
try {
    // ููุฏ ูุฏ ูุณุจุจ ุฎุทุฃ
} catch (Exception $e) {
    $logger->logOperation('file_upload', 'failed', [
        'error' => $e->getMessage(),
        'file' => $e->getFile(),
        'line' => $e->getLine()
    ]);
}
```

## ุฅุนุฏุงุฏุงุช ุงูุณุฌู

ูุชู ุญูุธ ุงูุณุฌูุงุช ุชููุงุฆูุงู ูู ูุณุงุฑ `/logs/YYYY/YYYY-MM/log-YYYY-MM-DD.log` ูุน:

- ุชุฏููุฑ ุงูุณุฌูุงุช ุนูุฏ ุงููุตูู ููุญุฌู ุงูุฃูุตู (10MB ุงูุชุฑุงุถูุงู)
- ุญุฐู ุงูุณุฌูุงุช ุงูุฃูุฏู ูู 30 ูููุงู (ูุงุจูุฉ ููุชุฎุตูุต)

## ุงูุฃูุงู

- ูุชู ุฅุฎูุงุก ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ ุชููุงุฆูุงู (ูููุงุช ูุฑูุฑุ ุชูููุงุชุ ุฅูุฎ)
- ุตูุงุญูุงุช ุงููููุงุช 0755 ุงูุชุฑุงุถูุงู
- ูุฏุนู HTTPS ุจุดูู ูุงูู

## ุงููุณุงููุฉ

ุงููุณุงููุงุช ูุฑุญุจ ุจูุง! ูุฑุฌู ุงุชุจุงุน ุงูุฎุทูุงุช ุงูุชุงููุฉ:

1. ุนูู Fork ูููุณุชูุฏุน
2. ุฅูุดุงุก ูุฑุน ููููุฒุฉ ุงูุฌุฏูุฏุฉ (`git checkout -b feature/AmazingFeature`)
3. ุนูู Commit ููุชุบููุฑุงุช (`git commit -m 'Add some AmazingFeature'`)
4. Push ุฅูู ุงููุฑุน (`git push origin feature/AmazingFeature`)
5. ูุชุญ ุทูุจ ุฏูุฌ (Pull Request)

## ุงูุฑุฎุตุฉ

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT - ุงูุธุฑ ููู [LICENSE](LICENSE) ููุชูุงุตูู.

## ุงูุฏุนู

ุฅุฐุง ูุงุฌูุชู ุฃู ูุดููุฉุ ูุฑุฌู ูุชุญ Issue ูู ุงููุณุชูุฏุน.

---

โจ **ูุตูุญุฉ**: ููุดุงูุฏุฉ ุงูุณุฌูุงุช ูู ุงูููุช ุงูุญูููู ููููู ุงุณุชุฎุฏุงู:
```bash
tail -f logs/$(date +%Y)/$(date +%Y-%m)/log-$(date +%Y-%m-%d).log
```
